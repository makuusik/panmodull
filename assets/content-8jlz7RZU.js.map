{"version":3,"file":"content-8jlz7RZU.js","sources":["../../src/script/content.js"],"sourcesContent":["function getPolishMonthWord(number) {\n  if (number === 1) {\n    return 'miesiąc';\n  } else if (number >= 2 && number <= 4) {\n    return 'miesiące';\n  } else {\n    return 'miesięcy';\n  }\n}\n\nasync function loadData() {\n  // Визначення змінних для div\n  try {\n    const isEnglish = window.location.href.includes('_en');\n    const jsonFile = isEnglish ? 'updated_data_en.json' : 'updated_data.json';\n    const response = await fetch(jsonFile); // Завантаження JSON\n    const data = await response.json();\n\n    // Отримуємо номер сторінки з URL\n    const params = new URLSearchParams(window.location.search);\n    const pageId = Number(params.get('page')) || 1;\n    const wrapperDetails = document.querySelectorAll('.wrapper-details'); // Отримуємо всі елементи\n\n    if (wrapperDetails.length >= 2) {\n      // Переконуємось, що є два елементи\n      if ([44, 45, 46, 3, 4].includes(pageId)) {\n        wrapperDetails[0].style.display = 'none';\n        wrapperDetails[1].style.display = 'flex';\n      } else {\n        wrapperDetails[1].style.display = 'none';\n        wrapperDetails[0].style.display = 'flex';\n        wrapperDetails[2].style.display = 'none';\n      }\n    } else {\n      console.warn(\n        '⛔ Очікувалося два .wrapper-details, але знайдено:',\n        wrapperDetails.length\n      );\n    }\n\n    // Знаходимо відповідний запис у JSON за index\n    const pageData = data.find(item => item.index === pageId);\n\n    if (pageData) {\n      // Оновлення заголовків\n      document.getElementById('title').innerText = pageData.title.toUpperCase();\n      document.getElementById('title2').innerText = pageData.title;\n\n      // Оновлення основного зображення\n      const images = document.getElementsByClassName('image1');\n      const imagePath = `img/modular/${pageId}.jpg`;\n      const altImagePath = `img/modular_alt/${pageId}_alt.jpg`;\n\n      for (let img of images) {\n        img.src = imagePath;\n      }\n\n      document.getElementById('image2').src = altImagePath;\n\n      // Оновлення тексту опису\n      document.getElementById('text').innerHTML = pageData.descriptions[4];\n\n      // Оновлення таблиці характеристик\n      const tableBody = document.getElementById('table-body');\n      tableBody.innerHTML = ''; // Очищення таблиці\n\n      const isEnglish = window.location.href.includes('_en');\n\n      const properties_list = isEnglish\n        ? [\n            'Area',\n            'Living area',\n            'Module size',\n            'Height',\n            'Bedrooms',\n            'Terrace',\n            'Construction time',\n          ]\n        : [\n            'Powierzchnia',\n            'Powierzchnia mieszkalna',\n            'Rozmiar modułu',\n            'Wysokość',\n            'Sypialnie',\n            'Taras',\n            'Czas budowy',\n          ];\n\n      const units = isEnglish\n        ? ['m²', 'm²', 'm', 'm', '', 'm²', 'months']\n        : ['m²', 'm²', 'm', 'm', '', 'm²', 'miesiące'];\n\n      pageData.characteristics.forEach((item, index) => {\n        if (index < properties_list.length) {\n          const row = document.createElement('tr');\n\n          const firstColumn = document.createElement('td');\n          firstColumn.innerText = properties_list[index];\n          row.appendChild(firstColumn);\n\n          const secondColumn = document.createElement('td');\n          // Перевірка для часу на будівництво\n          if (index === 6) {\n            const months = item; // item містить число місяців\n            secondColumn.innerText = `${months} ${getPolishMonthWord(\n              months\n            )}`.trim();\n          } else {\n            secondColumn.innerText = item\n              ? `${item} ${units[index]}`.trim()\n              : '—';\n          }\n          row.appendChild(secondColumn);\n\n          tableBody.appendChild(row);\n        }\n      });\n\n      // Оновлення details для першого блоку\n\n      // console.log('✅ Дані успішно завантажені!');\n    } else {\n      // console.warn('⛔️ Дані для цієї сторінки не знайдено.');\n    }\n  } catch (error) {\n    console.error('❌ Помилка завантаження JSON:', error);\n  }\n}\n\nexport function changeMainImage(src) {\n  const mainImage = document.getElementById('main-image');\n  if (mainImage) {\n    mainImage.src = src;\n  }\n}\nwindow.changeMainImage = changeMainImage;\n\ndocument.addEventListener('DOMContentLoaded', loadData);\n\ndocument.querySelectorAll('.details-container summary').forEach(summary => {\n  summary.addEventListener('click', function () {\n    const parentContainer = this.closest('.details-container');\n\n    // Закриваємо всі відкриті details в межах поточного details-container\n    parentContainer.querySelectorAll('.details[open]').forEach(openDetail => {\n      if (openDetail !== this.parentElement) {\n        openDetail.removeAttribute('open');\n      }\n    });\n\n    // Перемикаємо відкриття поточного елемента\n    const parent = summary.parentElement;\n    if (parent.hasAttribute('open')) {\n      parent.removeAttribute('open');\n    } else {\n      parent.setAttribute('open', 'true');\n    }\n  });\n});\ndocument.addEventListener('DOMContentLoaded', function () {\n  const imageGrid = document.querySelector('.scroll-images');\n  const images = document.querySelectorAll('img');\n\n  function updateImageOpacity() {\n    const gridRect = imageGrid.getBoundingClientRect();\n    const gridCenter = gridRect.left + gridRect.width / 2;\n\n    images.forEach(image => {\n      const rect = image.getBoundingClientRect();\n      const imageCenter = rect.left + rect.width / 2;\n      const distance = Math.abs(gridCenter - imageCenter);\n      const maxDistance = gridRect.width / 2;\n\n      // Обчислення прозорості залежно від відстані\n      let opacity = Math.max(0.3, 1 - distance / maxDistance);\n      if (window.matchMedia('(max-width: 769px)').matches) {\n        image.style.opacity = opacity;\n      }\n    });\n  }\n\n  imageGrid.addEventListener('scroll', updateImageOpacity);\n  window.addEventListener('resize', updateImageOpacity);\n\n  updateImageOpacity();\n});\nwindow.onload = function () {\n  window.scrollGallery = function (direction) {\n    const container = document.querySelector('.scroll-images');\n    const scrollAmount = container.clientWidth * 0.5; // Прокрутка на 50% ширини\n    container.scrollBy({\n      left: direction * scrollAmount,\n      behavior: 'smooth',\n    });\n  };\n};\n"],"names":["getPolishMonthWord","number","loadData","jsonFile","data","params","pageId","wrapperDetails","pageData","item","images","imagePath","altImagePath","img","tableBody","isEnglish","properties_list","units","index","row","firstColumn","secondColumn","months","error","changeMainImage","src","mainImage","summary","openDetail","parent","imageGrid","updateImageOpacity","gridRect","gridCenter","image","rect","imageCenter","distance","maxDistance","opacity","direction","container","scrollAmount"],"mappings":"AAAA,SAASA,EAAmBC,EAAQ,CAClC,OAAIA,IAAW,EACN,UACEA,GAAU,GAAKA,GAAU,EAC3B,WAEA,UAEX,CAEA,eAAeC,GAAW,CAExB,GAAI,CAEF,MAAMC,EADY,OAAO,SAAS,KAAK,SAAS,KAAK,EACxB,uBAAyB,oBAEhDC,EAAO,MADI,MAAM,MAAMD,CAAQ,GACT,OAGtBE,EAAS,IAAI,gBAAgB,OAAO,SAAS,MAAM,EACnDC,EAAS,OAAOD,EAAO,IAAI,MAAM,CAAC,GAAK,EACvCE,EAAiB,SAAS,iBAAiB,kBAAkB,EAE/DA,EAAe,QAAU,EAEvB,CAAC,GAAI,GAAI,GAAI,EAAG,CAAC,EAAE,SAASD,CAAM,GACpCC,EAAe,CAAC,EAAE,MAAM,QAAU,OAClCA,EAAe,CAAC,EAAE,MAAM,QAAU,SAElCA,EAAe,CAAC,EAAE,MAAM,QAAU,OAClCA,EAAe,CAAC,EAAE,MAAM,QAAU,OAClCA,EAAe,CAAC,EAAE,MAAM,QAAU,QAGpC,QAAQ,KACN,oDACAA,EAAe,MACvB,EAII,MAAMC,EAAWJ,EAAK,KAAKK,GAAQA,EAAK,QAAUH,CAAM,EAExD,GAAIE,EAAU,CAEZ,SAAS,eAAe,OAAO,EAAE,UAAYA,EAAS,MAAM,cAC5D,SAAS,eAAe,QAAQ,EAAE,UAAYA,EAAS,MAGvD,MAAME,EAAS,SAAS,uBAAuB,QAAQ,EACjDC,EAAY,eAAeL,CAAM,OACjCM,EAAe,mBAAmBN,CAAM,WAE9C,QAASO,KAAOH,EACdG,EAAI,IAAMF,EAGZ,SAAS,eAAe,QAAQ,EAAE,IAAMC,EAGxC,SAAS,eAAe,MAAM,EAAE,UAAYJ,EAAS,aAAa,CAAC,EAGnE,MAAMM,EAAY,SAAS,eAAe,YAAY,EACtDA,EAAU,UAAY,GAEtB,MAAMC,EAAY,OAAO,SAAS,KAAK,SAAS,KAAK,EAE/CC,EAAkBD,EACpB,CACE,OACA,cACA,cACA,SACA,WACA,UACA,mBACD,EACD,CACE,eACA,0BACA,iBACA,WACA,YACA,QACA,aACZ,EAEYE,EAAQF,EACV,CAAC,KAAM,KAAM,IAAK,IAAK,GAAI,KAAM,QAAQ,EACzC,CAAC,KAAM,KAAM,IAAK,IAAK,GAAI,KAAM,UAAU,EAE/CP,EAAS,gBAAgB,QAAQ,CAACC,EAAMS,IAAU,CAChD,GAAIA,EAAQF,EAAgB,OAAQ,CAClC,MAAMG,EAAM,SAAS,cAAc,IAAI,EAEjCC,EAAc,SAAS,cAAc,IAAI,EAC/CA,EAAY,UAAYJ,EAAgBE,CAAK,EAC7CC,EAAI,YAAYC,CAAW,EAE3B,MAAMC,EAAe,SAAS,cAAc,IAAI,EAEhD,GAAIH,IAAU,EAAG,CACf,MAAMI,EAASb,EACfY,EAAa,UAAY,GAAGC,CAAM,IAAItB,EACpCsB,CACd,CAAa,GAAG,MAChB,MACYD,EAAa,UAAYZ,EACrB,GAAGA,CAAI,IAAIQ,EAAMC,CAAK,CAAC,GAAG,KAAM,EAChC,IAENC,EAAI,YAAYE,CAAY,EAE5BP,EAAU,YAAYK,CAAG,CAC1B,CACT,CAAO,CAKP,CAGG,OAAQI,EAAO,CACd,QAAQ,MAAM,+BAAgCA,CAAK,CACpD,CACH,CAEO,SAASC,EAAgBC,EAAK,CACnC,MAAMC,EAAY,SAAS,eAAe,YAAY,EAClDA,IACFA,EAAU,IAAMD,EAEpB,CACA,OAAO,gBAAkBD,EAEzB,SAAS,iBAAiB,mBAAoBtB,CAAQ,EAEtD,SAAS,iBAAiB,4BAA4B,EAAE,QAAQyB,GAAW,CACzEA,EAAQ,iBAAiB,QAAS,UAAY,CACpB,KAAK,QAAQ,oBAAoB,EAGzC,iBAAiB,gBAAgB,EAAE,QAAQC,GAAc,CACnEA,IAAe,KAAK,eACtBA,EAAW,gBAAgB,MAAM,CAEzC,CAAK,EAGD,MAAMC,EAASF,EAAQ,cACnBE,EAAO,aAAa,MAAM,EAC5BA,EAAO,gBAAgB,MAAM,EAE7BA,EAAO,aAAa,OAAQ,MAAM,CAExC,CAAG,CACH,CAAC,EACD,SAAS,iBAAiB,mBAAoB,UAAY,CACxD,MAAMC,EAAY,SAAS,cAAc,gBAAgB,EACnDpB,EAAS,SAAS,iBAAiB,KAAK,EAE9C,SAASqB,GAAqB,CAC5B,MAAMC,EAAWF,EAAU,wBACrBG,EAAaD,EAAS,KAAOA,EAAS,MAAQ,EAEpDtB,EAAO,QAAQwB,GAAS,CACtB,MAAMC,EAAOD,EAAM,wBACbE,EAAcD,EAAK,KAAOA,EAAK,MAAQ,EACvCE,EAAW,KAAK,IAAIJ,EAAaG,CAAW,EAC5CE,EAAcN,EAAS,MAAQ,EAGrC,IAAIO,EAAU,KAAK,IAAI,GAAK,EAAIF,EAAWC,CAAW,EAClD,OAAO,WAAW,oBAAoB,EAAE,UAC1CJ,EAAM,MAAM,QAAUK,EAE9B,CAAK,CACF,CAEDT,EAAU,iBAAiB,SAAUC,CAAkB,EACvD,OAAO,iBAAiB,SAAUA,CAAkB,EAEpDA,GACF,CAAC,EACD,OAAO,OAAS,UAAY,CAC1B,OAAO,cAAgB,SAAUS,EAAW,CAC1C,MAAMC,EAAY,SAAS,cAAc,gBAAgB,EACnDC,EAAeD,EAAU,YAAc,GAC7CA,EAAU,SAAS,CACjB,KAAMD,EAAYE,EAClB,SAAU,QAChB,CAAK,CACL,CACA"}